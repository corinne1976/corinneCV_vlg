YUI.add("hermes-template-photo-ad-page",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["global-nav-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["photo-well-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["sidebar-view"]:t,{name:"outlet",hash:{},data:i}))},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-ad-page",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-sub-photo-ad",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return'					<a target="_blank" href="/account/upgrade/pro" title="Flickr Pro">Flickr Pro</a>\n'},3:function(e,t,n,r,i){return'	            	<a href="#" class="sponsored-title" title="Sponsored Advertiser">Sponsored Advertiser</a>\n'},5:function(e,t,n,r,i){return'						<a target="_blank" href="/account/upgrade/pro">Sign up today!</a>\n'},7:function(e,t,n,r,i){return'						<a target="_blank" href="https://policies.yahoo.com/us/en/yahoo/privacy/topics/adserving/index.htm">Learn more about ads</a>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=t!=null?t:{};return'<div class="sub-photo-container centered-content">\n    <div class="view sub-photo-left-view">\n	    <div class="attribution-view photo-attribution">\n\n	        <a class="attribution-icon no-menu circle-icon" href="#" data-track="ad_link_rail_icon" target="_blank">\n	    		<img src="'+e.escapeExpression((o=(o=n.assetRoot||(t!=null?t.assetRoot:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(u,{name:"assetRoot",hash:{},data:i}):o))+'/images/general/moola.png"/>\n			</a>\n\n	        <div class="attribution-info">\n'+((s=n["if"].call(u,t!=null?t.isProUpsell:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+'	        </div>\n	    </div>\n		<div class="view sub-photo-title-desc-view" id="yui_3_16_0_rc_1_1_1401741750198_2372">\n			<div class="title-desc-block">\n\n				<span class=" meta-field photo-title ">\n'+((s=n["if"].call(u,t!=null?t.isProUpsell:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))!=null?s:"")+'				</span>\n\n			</div>\n		</div>\n	</div>\n	<div class="view sub-photo-right-view">\n		<a href="/account/upgrade/pro" class="find-out-more" data-track="ad_link_rail_panel" target="_blank">\n		   	Ad free browsing? Sign up for Flickr Pro\n		</a>\n	</div>\n	<div style="clear: both;"></div>\n</div>\n'},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/sub-photo-ad",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("sub-photo-ad-view",function(e){e.FlickrView.create(this.name,e.FlickrView,[],{initializer:function(e){return this.nsid=e.nsid,this.photoId=e.photoId,this.backToURL=e.backToURL,this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this},subviewConfig:{"sub-photo-left-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0},"sub-photo-right-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0}},loadState:function(){return e.Promise.resolve()},buildContainer:function(){var e={height:50,width:50};return this.setContainerWithTemplate("sub-photo-ad",{previous:this.appContext.adManager.origin.arrow==="next"?this.appContext.adManager.context.current:this.appContext.adManager.context.previous,next:this.appContext.adManager.origin.arrow==="next"?this.appContext.adManager.context.next:this.appContext.adManager.context.current,isProUpsell:this.appContext.adManager.isUpsell}),this},buildErrorContainer:function(){},activate:function(){var e=this.get("container"),t,n;return e&&(t=e.one(".attribution-icon"),n=e.one(".sponsored-title"),t&&t.on("click",function(e){e.preventDefault()}),n&&n.on("click",function(e){e.preventDefault()})),this}})},"@VERSION@",{requires:["flickr-view","hermes-template-sub-photo-ad","url-helper"],optional:["sub-photo-left-view","sub-photo-right-view"]});
YUI.add("photo-page-ad-scrappy-view",function(e,t){var n=require("hermes-core/flog")(t);e.FlickrView.create(this.name,e.FlickrView,[],{initializer:function(t){return this.backToURL=t.backToURL,this.entryTypeIntlKey=t.entryTypeIntlKey,this.photoId=t.photoId,this.isOwner=t.isOwner,this.context=e.clone(t.context,!0),this.iframeSrc=t.iframeSrc,t.isOwner=this.isOwner,t.fullscreen?this.appContext.experiments.fullscreen.enableFullscreen():this.appContext.experiments.fullscreen.disableFullscreen(),this.appContext.getViewer().signedIn&&(t.signinPendingQueue=e.SigninHelper.checkPendingQueue(this.appContext)),this.appContext.getModel("photo-models",this.photoId).then(function(t){t.on("valuesChanged",function(t){t.title&&e.one("head title").set("text",t.title.newVal+" | Flickr")})}),this},subviewConfig:{"photo-well-scrappy-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,dealbreaker:!0},"photo-head-meta-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!0},"global-nav-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!0},"sub-photo-ad-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0},"footer-full-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0}},additionalViewClasses:function(){var e=[];return!this.appContext.getViewer().signedIn&&this.appContext.flipper.isFlipped("global-nav-enabled")&&e.push("has-global-nav"),e},buildContainer:function(){var e,t,n=!1;return n?t="":t=this.subviews["global-nav-view"].get("container"),this.setContainerWithTemplate("photo-page-scrappy",{"global-nav-view":t,"photo-well-view":this.subviews["photo-well-scrappy-view"].get("container"),"sub-photo-view":this.subviews["sub-photo-ad-view"].get("container")}),this},activate:function(){return this.appContext.adManager.adIsLoading(),this.setupPerformanceMetrics(),this},setupPerformanceMetrics:function(){}},{ATTRS:{spaceid:{value:792600517}}})},"@VERSION@",{requires:["flickr-view","hermes-template-photo-ad-page","fletrics","signin-helper"],optional:["sub-photo-ad-view","global-nav-view"]});
