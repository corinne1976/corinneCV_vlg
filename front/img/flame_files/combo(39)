YUI.add("hermes-template-photo-list-description",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return" restricted-image"},3:function(e,t,n,r,i){return" is-video"},5:function(e,t,n,r,i){return" has-descriptions"},7:function(e,t,n,r,i){var s;return'<div class="description" title="'+e.escapeExpression(e.lambda((s=t!=null?t.photo:t)!=null?s.description:s,t))+'">\n	'+((s=n["if"].call(t!=null?t:{},(s=t!=null?t.photo:t)!=null?s.description:s,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n</div>\n"},8:function(e,t,n,r,i){var s;return"<p>"+e.escapeExpression((n.photoDescription||t&&t.photoDescription||n.helperMissing).call(t!=null?t:{},(s=t!=null?t.photo:t)!=null?s.description:s,!0,{name:"photoDescription",hash:{},data:i}))+"</p>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f="function",l=e.escapeExpression;return'<a href="'+l((o=(o=n.linkedPageUrl||(t!=null?t.linkedPageUrl:t))!=null?o:a,typeof o===f?o.call(u,{name:"linkedPageUrl",hash:{},data:i}):o))+'"><div class="photo'+((s=n["if"].call(u,(s=t!=null?t.photo:t)!=null?s.needsInterstitial:s,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(u,(s=t!=null?t.photo:t)!=null?s.isVideo:s,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(u,t!=null?t.displayDescriptions:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" style="background-image: url(\''+l((o=(o=n.photoUrl||(t!=null?t.photoUrl:t))!=null?o:a,typeof o===f?o.call(u,{name:"photoUrl",hash:{},data:i}):o))+"');\"></div></a>\n"+l((n.outlet||t&&t.outlet||a).call(u,t!=null?t["photo-list-photo-interaction-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+((s=n["if"].call(u,(s=t!=null?t.photo:t)!=null?s.description:s,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))!=null?s:"")},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-list-description",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("photo-list-description-view",function(e){e.namespace("Views")[this.name]=e.Base.create(this.name,e.PhotoListSubview,[],{langBundles:this.details.langBundles,subviewConfig:{"photo-list-photo-interaction-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0}},initializer:function(t){return this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this.appContext.flipper.isFlipped("enable-signed-out-cta-test")&&(this.signedOutFaveTest=!0),this.params=t,this.contextifiedPhotoUrl=e.URLHelper.getPhotoPage({photoId:this.get("model").getValue("id"),pathAlias:this.get("model").getValue("owner").getValue("pathAlias"),contextSuffix:this.get("contextSuffix")}),t.photoPageUrl=this.contextifiedPhotoUrl,this},loadState:function(){var t=[];return this.set("linkedPageUrl",this.contextifiedPhotoUrl),t.push(this.appContext.getModel(this.get("engagementModelName"),this.get("id"))),e.Promise.all(t).then(function(e){var t=e[0];this.set("engagement",t)}.bind(this))},buildContainer:function(){var e={};return e.linkedPageUrl=this.get("linkedPageUrl"),e.photoUrl=this.get("photoUrl"),e.photo=this.get("model").toJSON(),this.updateGeometry(),YUI.Env.isServer||this.downloadCacheAndSetImage(),this.setContainerWithTemplate("photo-list-description",e),this},activate:function(){return this}},{ATTRS:{contextSuffix:{writeOnce:"initOnly",value:null,validator:function(t,n){return e.AttributeHelpers.validateString(t)}},engagementModelName:{writeOnce:"initOnly",value:null,validator:function(t,n){return e.AttributeHelpers.validateString(t)}}}})},"@VERSION@",{requires:["photo-list-subview","photo-list-photo-interaction-view","hermes-template-photo-list-description","url-helper","attribute-helpers","fluid-modal-view"],optionalRequires:["fluid"],langBundles:["fave-view","common"]});
